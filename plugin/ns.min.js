/*
	Â© Copyright 2021 synfaxx503

	NS Plugin was created for instantly working with number systems.
	You can download this code and include in your site.

	use the function "convertValFromTo" to convert value to necessary number.

	The first argument is start value;
	The second argument is number system of this value;
	The third argument is number system of end value;

	Program is return end value.
	   ___ _ _   _   _      ___ _ _   _   _
	| | | | | | | | | |  | | | | | | | | | |
	| | | | | | | | | |  | | | | | | | | | |
	|_| | | | | |_|_|_|  |_| | | | | |_|_|_|
	| | | | | | | | |    | | | | | | | | |
	|_| |_|  _|_|_|_|_   |_| |_|  _|_|_|_|_
	| | | | | |  |  | |  | | | | | |  |  | |
	| | |_  |_   |  |_   | | |_  |_   |  |_
	|     |   |  |    |  |     |   |  |    |
	| | | | | |  |  | |  | | | | | |  |  | |
	|_| |_| |_|__|  |_|  |_| |_| |_|__|  |_|
	   ___ _ _   _   _      ___ _ _   _   _
	| | | | | | | | | |  | | | | | | | | | |
	| | | | | | | | | |  | | | | | | | | | |
	|_| | | | | |_|_|_|  |_| | | | | |_|_|_|
	| | | | | | | | |    | | | | | | | | |
	|_| |_|  _|_|_|_|_   |_| |_|  _|_|_|_|_
	| | | | | |  |  | |  | | | | | |  |  | |
	| | |_  |_   |  |_   | | |_  |_   |  |_
	|     |   |  |    |  |     |   |  |    |
	| | | | | |  |  | |  | | | | | |  |  | |
	|_| |_| |_|__|  |_|  |_| |_| |_|__|  |_|
*/
let trueChars=["0","1","2","3","4","5","6","7","8","9",".",","],symbolChars=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];function checkSystem(e,t){e+="","number"!=typeof t&&(t=+t),t--;for(let r=0;r<e.length;r++)if(toNum(e[r])>t&&"."!==e[r]&&"-"!==e[r])return[!1,r];return[!0,-1]}function error(e=["An error occurred"]){for(let t of e)console.error(t)}function toNum(e){return e=e.toLowerCase(),-1!==symbolChars.indexOf(e)&&(e=symbolChars.indexOf(e)+10),e=+e}function toChar(e){let t=e;return"number"!=typeof e&&(e=+e),e>=10&&(t=symbolChars[e-10].toUpperCase()),t}function charCount(e,t="",r){let o=0;e+="",t=t[0],r||(e=e.toLowerCase(),t=t.toLowerCase());for(let r=0;r<e.length;r++)e[r]===t&&o++;return o}function toFixed(e,t=-1){let r=(e=(e+="").replaceAll(",",".")).indexOf(".");return-1!==r&&(e=e.substr(0,r+ ++t)),e=+e}function deleteZero(e){let t=e=(e+="").replaceAll(",",".");if(-1!==e.indexOf("."))if(e[e.indexOf(".")+1])for(let r=e.length-1;r>=0&&"0"===e[r];r--)t=e.substr(0,r);else t=e.substr(0,e.indexOf("."));return t}function convertTo10(e,t){if(-1!==e.indexOf(".")){let r=0,o=1;t=+t;for(let n=(e+="").indexOf(".")+1;n<e.length;n++)r+=toNum(e[n])*t**-o,o++;o=0;for(let n=e.indexOf(".")-1;n>=0;n--)r+=toNum(e[n])*t**o,o++;return r}{let r=0,o=0;for(let n=(e+="").length-1;n>=0;n--)r+=toNum(e[n])*t**o,o++;return r}}function convertValFromTo(e,t,r){r+="";let o=checkSystem(e+="",t+=""),n=[];if((!(e=deleteZero(e.replaceAll(",",".")).toLowerCase())||charCount(e,".")>1||!o[0]||e.length>28)&&n.push("Invalid value "+e),t&&r||n.push("Enter the number system"),-1===t.indexOf(",")&&-1===t.indexOf(".")&&-1===r.indexOf(",")&&-1===r.indexOf(".")||n.push("The number system cannot contain dots"),(symbolChars.includes(t.toLowerCase())||symbolChars.includes(r.toLowerCase()))&&n.push("The number system cannot contain letters"),t=parseInt(t),r=parseInt(r),(t>36||t<2||r>36||r<2)&&n.push("The number system cannot be bigger then 36 and less then 2"),n.length)return error(n),null;if(10===r)return convertTo10(e,t)+"";if(-1!==e.indexOf(".")){let o,n=0;10!==t&&(console.log(e),e=convertTo10(e,t)),0===Math.floor(e)?o="0.":(o=convertValFromTo(Math.floor(e),10,r)+".",e=toFixed(e-=Math.floor(e),10));do{e*=r,o+=toChar(Math.floor(e)),e-=Math.floor(e),n++}while(0!==e&&n<24);return o}{let o="";for(e=+e,10!==t&&(e=convertTo10(e,t));e>0;)o+=r>9?toChar(e%r):e%r,e=Math.floor(e/r);return o=o.split("").reverse().join(""),o}}